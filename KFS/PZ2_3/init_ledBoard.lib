# ================= Переменные инициализации для встроенных светодиодов PWD и ACT ===============
# ----------------------------- Общий путь для доступа к GPIO
BASE_LED_PATH=/sys/class/leds
# ------------------ Инициализация переменных для работы со встроенными светодиодами
ACT=0				# - указывает на номер светодиода ACT - зеленый
PWR=1				# - указывает на номер светодиода PWD - красный
GP="gpio"			# - режим работы светодиода ACT или PWD ("gpio" - подключение к GPIO)
IN="input"			# - режим работы светодиода ACT или PWD ("input" - подключение к шине питания)
MM="mmc0"			# - режим работы светодиода ACT или PWD ("mmc0" - подключение к памяти RAM)
# Присвоение названия состояниям
ON="1"
OFF="0"
# -------------------------- Функции для встроенных светодиодов
# Функция переключения режимов встроенных светодиодов
# (первый аргумент - номер светодиода (1-PWD, 0-AСT), второй аргумент - в какой режим переводим ("gpio", "input", "mmc0")
triggerVar()
{
	printf "Для светодиода led%d включен режим " $1
    echo $2 | sudo tee $BASE_LED_PATH/led$1/trigger
}
# Функция вкл/выкл светодиода
# (первый аргумент - номер светодиода (1-PWD, 0-AСT), второй аргумент - вкл/выкл ("ON", "OFF")
setLightState()
{
  echo $2 | sudo tee $BASE_LED_PATH/led$1/brightness
}
# -------------------------- Функция возвращения встроенных светодиодов в исходное состояние
  shutdown() {
	if (whiptail --title "Вы желаете прервать программу?" --yesno "Выберите между Да или Нет." 10 60); then
		if [ $? -eq 0 ]; then
			echo " - останов!"
			triggerVar $PWR $IN
			triggerVar $ACT $MM
			echo "  Поки, споки!"
			exit 0
		fi
	fi
  echo " - продолжаем!"

	
#	read -p "Вы желаете прервать программу? y: " answer
#	if [ $answer == 'y' ];  then
#		triggerVar $PWR $IN
#		triggerVar $ACT $MM
#		echo "  Поки, споки!"
#		exit 0
#	fi
}
